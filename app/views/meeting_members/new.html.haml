- model_class = MeetingMember
.page-header
  %h1= t '.title', :default => [:'helpers.titles.new', 'New %{model}'], :model => model_class.model_name.human.titleize

  #carousel.carousel.slide{:data => {:ride => "carousel"}}
    .carousel-inner{:role => "listbox"}
      .item.active
        #meeting-type-select-container
          %h3 1. Choose a Meeting Type and Time:
          .input-group
            %select#meeting-type.form-control
              %option{:value => ""}
                Class Type
              - MeetingType.all.each do |type|
                %option{:value => "#{type.id}"}
                  = type.name

          .input-group
            #datetimepicker.input-append.date
              %input#meeting-date{:data => {:format => "MM/dd/yyyy hh:mm PP"}, :type => "text", :value => "#{DateTime.now().strftime("%m/%d/%Y %I:%M %P")}"}

          .input-group
            %select#instructor.form-control
              - Member.where(is_teacher: true).each do |member|
                %option{:value => "#{member.id}"}
                  = member.full_name

          %a.btn.next-btn{:href => "#"} Select Students &#10095;

      .item
        #members-select-container
          %h3
            2. Select Who Attended
            %span.meeting-name
          = render "members/member_select"

          %h4 Students - Click to Remove:
          #selected-members-container{:style => ""}
            None selected yet.

          %br
          %br

          %a.btn.back-btn{:href => "#"} &#10094; Back
          &nbsp;
          %a.btn.next-btn.confirm{:href => "#"} Confirm &#10095;

      .item
        #members-confirm-container
          %h3
            3. Confirm Attendance

          %h4 Class Info:
          #class-info.container-fluid
            .row
              .col-md-6
                Class Type:
              .col-md-6
                #meeting-type-confirm

          %h4 Attending Students:
          #attending-students

          %br
          %br

          %a.back-btn{:href => "#"} &#10094; Back
          %a.submit-btn{:href => "#"} Submit

  .create-form
    %form
      %input{:type => "hidden", :id => "meeting_type_id", :name => "meeting_type_id"}

:javascript
$(document).ready(function() {
  $("#carousel").carousel({
    interval: false,
    wrap: false,
    keyboard: false
  });
  
  $.each($(".next-btn"), function(ndx, btn) {
    $(btn).click(function(event) {
      event.preventDefault();

      if ($(btn).hasClass("confirm")) {
        $("#meeting-type-confirm").html($("#meeting-type").val());
      }

      $("#carousel").carousel('next');
    });
  });
  
  $.each($(".back-btn"), function(ndx, btn) {
    $(btn).click(function(event) {
      event.preventDefault();
      $("#carousel").carousel('previous');
    });
  });

  var elem = $("#selected-members-container");
  var mem = new Members(elem);

  $("#find-student .typeahead").on('typeahead:selected', function(evt, item) {
    mem.addMember(item);

    $("#find-student span input.tt-input").val("");
    $("#find-student span input.tt-input").focus();
  });
});
